**Summary**

<aside>
ğŸ’­ ì „ëµ íŒ¨í„´ì€ if-else ë¶„ê¸°ë¥¼ í”¼í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•˜ëŠ” ê²½ìš°ë„ ìˆëŠ”ë°, ì´ê²ƒì€ ìˆ²ì„ ë³´ì§€ ëª»í•˜ê³  ë‚˜ë¬´ë§Œ ë³´ëŠ” ê²ƒì´ë‹¤. ì „ëµ íŒ¨í„´ì˜ ì£¼ìš” ê¸°ëŠ¥ì€ **ì „ëµì˜ ì •ì˜, ìƒì„±, ì‚¬ìš©ì„ ë¶„ë¦¬**í•˜ì—¬ ì½”ë“œê°€ ë³µì¡í•´ì§€ëŠ” ê²ƒì„ ë°©ì§€í•˜ê³ , ê°ê°ì˜ ë¶€ë¶„ì„ ìµœëŒ€í•œ ë‹¨ìˆœí™”í•˜ëŠ” ê²ƒì´ë‹¤.

</aside>

**Concept**

ì „ëµ íŒ¨í„´ì€ **ì‹¤í–‰ ì¤‘ì— ì•Œê³ ë¦¬ì¦˜ ì „ëµì„ ì„ íƒí•˜ì—¬ ê°ì²´ ë™ì‘ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°”ë€Œë„ë¡** í•˜ëŠ” í–‰ìœ„ ë””ìì¸ íŒ¨í„´ì´ë‹¤.

ì—¬ê¸°ì„œ 'ì „ëµ'ì´ë€ ì¼ì¢…ì˜ ì•Œê³ ë¦¬ì¦˜ì´ ë  ìˆ˜ ë„ ìˆìœ¼ë©°, ê¸°ëŠ¥ì´ë‚˜ ë™ì‘ì´ ë  ìˆ˜ë„ ìˆëŠ”ë° íŠ¹ì •í•œ ëª©í‘œë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ í–‰ë™ ê³„íšì„ ë§í•œë‹¤. 

ì¦‰, ì–´ë–¤ ì¼ì„ ìˆ˜í–‰í•˜ëŠ” ë™ì‘ë“¤ì„ ë¯¸ë¦¬ ì „ëµìœ¼ë¡œ ì •ì˜í•¨ìœ¼ë¡œì¨ **ì†ì‰½ê²Œ ì „ëµì„ êµì²´**í•  ìˆ˜ ìˆê³  **ì•Œê³ ë¦¬ì¦˜ ë³€í˜•ì´ ë¹ˆë²ˆí•˜ê²Œ í•„ìš”í•œ ê²½ìš°ì— ì í•©**í•œ íŒ¨í„´ì´ë‹¤.

<img width="868" alt="1111" src="https://github.com/Tech-Develop-Study/books-reading/assets/38885241/c03686af-f95c-4f3f-93f1-fb4889eb80f8">


- ë§¤ìš° ë³µì¡í•œ í˜•íƒœì˜ if-elseë¶„ê¸°ì™€ switch-case ë¶„ê¸°ë¥¼ í”¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.
- ì „ëµì˜ ì •ì˜, ìƒì„±, ì‚¬ìš©ì„ ë””ì»¤í”Œë§ í•  ìˆ˜ ìˆë‹¤.

**Advantages**

- ì „ëµ ì•Œê³ ë¦¬ì¦˜ì˜ ì—¬ëŸ¬ ë²„ì „ ë˜ëŠ” ë³€í˜•ì´ í•„ìš”í•  ë•Œ í´ë˜ìŠ¤í™”ë¥¼ í†µí•´ ê´€ë¦¬
- ì•Œê³ ë¦¬ì¦˜ ì½”ë“œê°€ ë…¸ì¶œë˜ì–´ì„œëŠ” ì•ˆ ë˜ëŠ” ë°ì´í„°ì— ì—‘ì„¸ìŠ¤ í•˜ê±°ë‚˜ ë°ì´í„°ë¥¼ í™œìš©í•  ë•Œ ìº¡ìŠí™”
- ì•Œê³ ë¦¬ì¦˜ì˜ ë™ì‘ì´ ëŸ°íƒ€ì„ì— ì‹¤ì‹œê°„ìœ¼ë¡œ êµì²´ë˜ì–´ì•¼ í•  ë•Œ

**Disadvantages**

- ì•Œê³ ë¦¬ì¦˜ì´ ë§ì•„ì§ˆìˆ˜ë¡ ê´€ë¦¬í•´ì•¼ í•  ê°ì²´ì˜ ìˆ˜ê°€ ëŠ˜ì–´ë‚œë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. ë§Œì¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ íŠ¹ì„± ìƒ ì•Œê³ ë¦¬ì¦˜ì´ ë§ì§€ ì•Šê³  ìì£¼ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì „ëµ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ í•„ìš”ê°€ ì—†ë‹¤

**Example Case**

ì‹ ìš©ì¹´ë“œë³„ë¡œ ê²°ì œë¥¼ ì§„í–‰í•˜ëŠ” ì˜ˆì œ


```java
// ì „ëµ - ì¶”ìƒí™”ëœ ì•Œê³ ë¦¬ì¦˜
interface PaymentStrategy {
    void pay(int amount);
}

class KAKAOCardStrategy implements PaymentStrategy {
    private String name;
    private String cardNumber;
    private String cvv;
    private String dateOfExpiry;

    public KAKAOCardStrategy(String nm, String ccNum, String cvv, String expiryDate) {
        this.name = nm;
        this.cardNumber = ccNum;
        this.cvv = cvv;
        this.dateOfExpiry = expiryDate;
    }

    @Override
    public void pay(int amount) {
        System.out.println(amount + "ì› paid using KAKAOCard.");
    }
}

class LUNACardStrategy implements PaymentStrategy {
    private String emailId;
    private String password;

    public LUNACardStrategy(String email, String pwd) {
        this.emailId = email;
        this.password = pwd;
    }

    @Override
    public void pay(int amount) {
        System.out.println(amount + "ì› paid using LUNACard.");
    }
}
```

```java
// ì»¨í…ìŠ¤íŠ¸ - ì „ëµì„ ë“±ë¡í•˜ê³  ì‹¤í–‰
class ShoppingCart {
    List<Item> items;

    public ShoppingCart() {
        this.items = new ArrayList<Item>();
    }

    public void addItem(Item item) {
        this.items.add(item);
    }
	
    // ì „ëµì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ì„œ ë°”ë¡œë°”ë¡œ ì „ëµì„ ì‹¤í–‰
    public void pay(PaymentStrategy paymentMethod) {
        int amount = 0;
        for (Item item : items) {
            amount += item.price;
        }
        paymentMethod.pay(amount);
    }
}
```

```java
class Item {
    public String name;
    public int price;

    public Item(String name, int cost) {
        this.name = name;
        this.price = cost;
    }
}

// í´ë¼ì´ì–¸íŠ¸ - ì „ëµ ì œê³µ/ì„¤ì •
class User {
    public static void main(String[] args) {
        // ì‡¼í•‘ì¹´íŠ¸ ì „ëµ ì»¨í…ìŠ¤íŠ¸ ë“±ë¡
        ShoppingCart cart = new ShoppingCart();

        // ì‡¼í•‘ ë¬¼í’ˆ
        Item A = new Item("ë§¥ë¶ í”„ë¡œ", 10000);
        Item B = new Item("í”Œë ˆì´ìŠ¤í…Œì´ì…˜", 30000);
        cart.addItem(A);
        cart.addItem(B);

        // LUNACardë¡œ ê²°ì œ ì „ëµ ì‹¤í–‰
        cart.pay(new LUNACardStrategy("kundol@example.com", "pukubababo")); // 4000ì› paid using LUNACard.

        // KAKAOBankë¡œ ê²°ì œ ì „ëµ ì‹¤í–‰
        cart.pay(new KAKAOCardStrategy("Ju hongchul", "123456789", "123", "12/01")); // 4000ì› paid using KAKAOCard.
    }
}
```

```java
public class OrderService {
    public double discount(Order order){
        double discount = 0.0;
        OrderType type = order.getType();

        if(type.equals(OrderType.NORMAL)){

        }else if(type.equals(OrderType.GROUPON)){

        }else if(type.equals(OrderType.PROMOTION)){

        }
        return discount;
    }
}
```

```java
//ë°ì´í„°ì˜ í¬ê¸°ì— ë”°ë¼ ìµœì í™”ëœ ê°ê¸° ë‹¤ë¥¸ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ë¡œì§
public class Sorter {
    private static final long GB = 1000*1000*1000;

    public void sortFile(String filePath){
        //logic
        
        File file = new File(filePath);
        long fileSize = file.length();

        if(fileSize < 6 * GB){
            quickSort(filePath);
        } else if (fileSize < 10 * GB) {
            externalSort(filePath);
        } else if (fileSize < 100 * GB) {
            concurrentExternalSort(filePath);
        }else {
            mapreduceSort(filePath);
        }

    }

    private void quickSort(String filePath){

    }

    private void externalSort(String filePath){

    }

    private void concurrentExternalSort(String filePath){

    }

    private void mapreduceSort(String filePath){

    }
}
```

```java
public class SortingTool {
    public static void main(String[] args) {
        Sorter sorter = new Sorter();
        sorter.sortFile("path");
    }
}
```

ì½”ë“œê°€ ë³„ë¡œ í¬ì§€ ì•Šê³ , í›„ì† ìš”êµ¬ ì‚¬í•­ì´ ë§ì´ ì•Šìœ¼ë©´ ì½”ë“œë¥¼ ìœ ì§€ë³´ìˆ˜ í•˜ëŠ”ë° í° ì–´ë ¤ì›€ì´ ì—†ë‹¤. ê·¸ëŸ¬ë‚˜ ê° ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ (~Sort() ë©”ì„œë“œ)ì˜ ì½”ë“œê°€ ìƒëŒ€ì ìœ¼ë¡œ ë³µì¡í•˜ê³  ê·¸ í¬ê¸°ë„ í¬ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë  ê²ƒì´ë‹¤. ì´ ì½”ë“œê°€ ëª¨ë‘ Sorter í´ë˜ìŠ¤ì— ë°°ì¹˜ë˜ì–´ ìˆìœ¼ë¯€ë¡œ í´ë˜ìŠ¤ì˜ í¬ê¸°ê°€ ì»¤ì§€ê³  ê²°êµ­ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ ë³´ìˆ˜ì— ì˜í–¥ì„ ë¯¸ì¹˜ê²Œ ëœë‹¤. 

Sorter í´ë˜ìŠ¤ê°€ ë„ˆë¬´ ì»¤ì§€ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì„ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„í• í•  ìˆ˜ ìˆë‹¤. 

```java
public interface ISortAlg {
    void sort(String filePath);
}

//~Sort í´ë˜ìŠ¤ë¡œ ë¶„í• 
public class QuickSort implements ISortAlg {

    @Override
    public void sort(String filePath) {
        //...
    }
}

public class ExternalSort implements ISortAlg {

    @Override
    public void sort(String filePath) {
        
    }
}

//...

package ch8.ex804_2;

import java.io.File;

public class Sorter {
    private static final long GB = 1000*1000*1000;

		//íŒŒì¼ sort í•˜ê¸°
    public void sortFile(String filePath){
        File file = new File(filePath);
        long fileSize = file.length();

        ISortAlg iSortAlg;

        if(fileSize < 6 * GB){
            iSortAlg = new QuickSort();
        } else if (fileSize < 10 * GB) {
            iSortAlg = new ExternalSort();
        } else if (fileSize < 100 * GB) {
            iSortAlg = new ConcurrentExternalSort();
        }else {
            iSortAlg = new MapReduceSort();
        }

        iSortAlg.sort(filePath);
    }
}
```

ë¦¬íŒ©í„°ë§ í›„ ê° í´ë˜ìŠ¤ì˜ ì½”ë“œ í¬ê¸°ê°€ ì ì ˆí•œ ìˆ˜ì¤€ì´ ë˜ì—ˆê³  ì½”ë“œ êµ¬ì¡°ê°€ ë„ˆë¬´ ë³µì¡í•˜ì§€ ì•Šì•„ ì½” ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ ë³´ìˆ˜ì„±ì´ í–¥ìƒë˜ì—ˆë‹¤. ë˜í•œ **ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì„ ì£¼ìš” ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ë“œì™€ ë¶„ë¦¬ëœ ë…ë¦½ í´ë˜ìŠ¤ë¡œ ì„¤ê³„í•˜ì—¬ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì˜ ì¬ì‚¬ìš©ì„±ì„ ê°œì„ **í–ˆë‹¤. ì´ ë‹¨ê³„ëŠ” ì‹¤ì œë¡œ ì „ëµ íŒ¨í„´ì˜ ì²« ë²ˆì§¸ ë‹¨ê³„ë¡œ, ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ë“œì—ì„œ ì „ëµ ì •ì˜ë¥¼ ë¶„ë¦¬í•œ ê²ƒì´ë‹¤.

ê·¸ëŸ¬ë‚˜ Sorter í´ë˜ìŠ¤ì˜ sortFile() í•¨ìˆ˜ì—ëŠ” íŒŒì¼ í¬ê¸°ì— ë”°ë¥¸ if-else ë¶„ê¸°ê°€ ì¡´ì¬í•œë‹¤. ë¬¼ë¡  ì´ ì½”ë“œì—ì„œ ì‚¬ìš© í•˜ëŠ” if-else ë¶„ê¸°ëŠ” ê·¸ë¦¬ ë³µì¡í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê·¸ëŒ€ë¡œ ë†”ë‘ì–´ë„ ë¬´ë°©í•˜ë‹¤. í•˜ì§€ë§Œ if-else ë¶„ê¸°ë¥¼ ì œê±°í•˜ê¸° ìœ„í•´ í…Œì´ë¸” ì¡°íšŒ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ê·¸ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```java
package ch8.ex804_3;

import java.io.File;
import java.util.ArrayList;
import java.util.List;

public class Sorter {

    private static final long GB = 1000*1000*1000;
    private static final List<AlgRange> algs = new ArrayList<>();

    static {
        algs.add (new AlgRange(8, 6*GB, SortAlgFactory.getSortAlg("QuickSort")));
        algs.add (new AlgRange (6*GB, 10*GB, SortAlgFactory.getSortAlg("ExternalSort")));
        algs.add (new AlgRange(10*GB, 100*GB, SortAlgFactory.getSortAlg("ConcurrentExternalSort")));
        algs.add (new AlgRange(100*GB, Long. MAX_VALUE, SortAlgFactory.getSortAlg ("MapReduceSort")));
    }

    public void sortFile(String filePath) {
        // ê²€ì¦ ë…¼ë¦¬ ìƒëµ
        File file = new File(filePath);
        long fileSize = file.length();
        ISortAlg sortAlg = null;
        for (AlgRange algRange : algs) {
            if (algRange.inRange(fileSize)) {
                sortAlg = algRange.getAlg();
                break;
            }
            sortAlg.sort(filePath);
        }
    }

    private static class AlgRange{
        private long start;
        private long end;
        private ch8.ex804_3.ISortAlg alg;

        public AlgRange(long start, long end, ISortAlg alg) {
            this.start = start;
            this.end = end;
            this.alg = alg;
        }

        public ISortAlg getAlg(){
            return alg;
        }

        public boolean inRange(long size){
            return size >= start && size < end;
        }
    }
}

```

ì½”ë“œì˜ ë³€ìˆ˜ ë¶€ë¶„ì„ ì „ëµ íŒ©í„°ë¦¬ í´ë˜ìŠ¤ì™€ Sorter í´ë˜ìŠ¤ì˜ ì •ì  ì„¹ì…˜ìœ¼ë¡œ ë¶„ë¦¬í–ˆë‹¤. 

ìƒˆë¡œìš´ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì„ ì¶”ê°€í•˜ë ¤ë©´ ì „ëµ íŒ©í„°ë¦¬ í´ë˜ìŠ¤ì™€ Sorter í´ë˜ìŠ¤ì˜ ì •ì  ì½”ë“œ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ìˆ˜ì •í•˜ë©´ ëœë‹¤.
